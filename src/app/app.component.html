<!--
manca: ottenere chiavi per cambiare contenuto
-->
<h1>App Post-it</h1>


<div *ngIf="main == false; else Main">
  <app-login (nuovoKeyEvent)="getKey($event)" (nuovoKEvent)="newKey($event)
"> </app-login>
</div>

<ng-template #Main>

  <ul name="butt">
    <button id="New" (click) = "azzera()" (click) = "creaPost()" >Crea Nuovo</button>
    <br />
    <br />
    <button (click)= "impor()" id="Importanti">Visualizza importanti</button>
  </ul>

  <hr />

  <p>
    Qui verr√† visualizzato il messaggio del post-it selezionato.
    <app-read-postit [selezioneC]="selezione1" [postItArr]="postItArr">
    </app-read-postit>
  </p>


  <hr />

  <p>
    Cliccare sul titolo per leggere il contenuto
  </p>

  <div *ngIf="visImp == false ;else other_content">
    <ul *ngFor="let postIt of postItArr">
      <button (click) = "leggiMess(postIt.titolo, postIt.mess,postIt.imp, postItArr.indexOf(postIt))"> {{postIt.titolo}} </button>
      &nbsp;&nbsp;&nbsp;&nbsp;
      <button (click) = "delete(postItArr.indexOf(postIt))"> Cancella </button>

    </ul>
  </div>

  <ng-template #other_content>
    <ul *ngFor="let postIt of postItArr">
      <div *ngIf="postIt.imp == true">
        <button (click) = "leggiMess(postIt.titolo, postIt.mess,postIt.imp, postItArr.indexOf(postIt))"> {{postIt.titolo}} </button>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <button (click) = "delete(postItArr.indexOf(postIt))"> Cancella </button>
      </div>
    </ul>
  </ng-template>

  <hr />

  <app-new-postit [selezioneA]="selezione2" (newPostEvent)="addPost($event)"> </app-new-postit>

</ng-template>